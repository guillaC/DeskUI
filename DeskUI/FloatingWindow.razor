@using DeskUI.Services
@using Microsoft.JSInterop

@inject WindowManager WindowManager
@inject IJSRuntime JSRuntime

@if (Overlayed)
{
    <div class="overlay" style="z-index:@(ZIndex - 1);"></div>
}

<div id="@WindowId"
     class="window @Theme"
     style="@Style"
     @onmousedown="BringToFrontAsync">
    <div class="window-header" @onmousedown="StartDrag">
        <div class="window-title">@Title</div>
        @if (AllowClose)
        {
            <button class="window-close" @onclick="CloseAsync">&times;</button>
        }
    </div>

    <div class="window-content">
        @ChildContent
    </div>

    <div class="window-resizer" @onmousedown="StartResize"></div>
</div>